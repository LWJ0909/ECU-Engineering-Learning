---

# 🌟 Version 1.0: Full Vision (이상향 로드맵)

**기간:** 52주
**현실 예상:** 65–70주
**난이도:** ★★★★★
**목표:** “모든 기능 **완벽 구현**”

---

# 📊 전체 구조

| Phase       | 기간         | 핵심 목표         | 주요 성과물            |
| ----------- | ---------- | ------------- | ----------------- |
| **Phase 0** | Week 1-2   | RC카 하드웨어 준비   | 기본 주행 시스템         |
| **Phase 1** | Week 3-8   | CAN 드라이버 완성   | 레지스터 레벨 bxCAN     |
| **Phase 2** | Week 9-14  | Multi-ECU 시스템 | 3-ECU 분산 아키텍처     |
| **Phase 3** | Week 15-24 | RTOS 통합       | FreeRTOS 구조 재설계   |
| **Phase 4** | Week 25-34 | AUTOSAR 구조    | 계층화 + Config Tool |
| **Phase 5** | Week 35-42 | Secure Boot   | RSA/OTA/보안 강화     |
| **Phase 6** | Week 43-52 | 통합 & 포트폴리오    | 고급 기능 + 문서화       |

---

# 🚗 Phase 0: RC카 하드웨어 준비 (Week 1-2)

## 🎯 목표

* RC카 하드웨어 선정 및 조립
* STM32 기본 제어(LED, PWM, UART)
* 기본 주행 시스템 구축

## 📝 주요 작업

### Week 1: 하드웨어 선정

* RC카 하드웨어 조사 및 선정
* 부품 호환성 학습
* 최종 부품 선정 및 주문
* 선정 과정 문서화

### Week 2: 조립 & 테스트

* 섀시 조립
* 전원 시스템 테스트
* 모터 드라이버 동작 확인
* 초음파 센서 연결
* UART 디버깅 환경 구축
* 기본 주행 구현

## 📦 결과물

* ✅ 동작하는 RC카
* ✅ 기본 제어 코드
* ✅ 조립 가이드

---

# 🚌 Phase 1: CAN 드라이버 완성 (Week 3-8)

## 🎯 목표

* CAN 프로토콜 완전 이해
* bxCAN 레지스터 레벨 드라이버 구현
* 2개 STM32 간 안정적 통신

## 📝 주요 작업

### Week 3: CAN 이론

* RM0090 CAN 챕터 완독
* CAN 프레임 구조
* Bit Timing 계산
* bxCAN 레지스터 분석

### Week 4–5: 기본 구현

* `CAN_Init()` 작성
* BTR 레지스터 설정(1Mbps)
* Loopback 테스트
* 보드 A↔B Echo 테스트
* 인터럽트 기반 RX 처리

### Week 6: 필터 & 확장 프레임

* 필터 설정
* Standard/Extended Frame
* ID 기반 필터링 검증
* 우선순위 테스트

### Week 7: 에러 핸들링

* Error Active/Passive/Bus-off
* TEC/REC 카운터
* 자동 복구 로직
* 에러 프레임 감지

### Week 8: 검증

* CANable 연동
* Wireshark 분석
* 오실로스코프 파형
* 스트레스 테스트
* 드라이버 문서화

## 📦 결과물

* ✅ HAL 없이 만든 CAN 드라이버
* ✅ 2보드 안정적 통신
* ✅ 드라이버 API 문서

---

# 🔗 Phase 2: Multi-ECU 시스템 (Week 9-14)

## 🎯 목표

* 3ECU 분산 시스템 구축
* 메시지 프로토콜 설계
* Master-Slave 통신 구조

## 📝 주요 작업

### Week 9–10: 설계

* ECU 역할 분리

  * Master ECU : 조이스틱 → 명령 브로드캐스트
  * Motor ECU : PWM 제어
  * Sensor ECU : 센서 수집
* CAN ID 체계 설계
* DBC 파일 작성
* 메시지 주기(5/10/20/100ms) 설계

### Week 11–12: ECU 구현

* Motor ECU 구현
* Sensor ECU 구현
* Master ECU 구현

### Week 13: 통합 & 디버깅

* ECU 3개 동작
* 타이밍 검증
* CAN 버스 로드 측정
* Heartbeat 구현
* Timeout 감지

### Week 14: 최적화 & 문서화

* 메시지 큐잉
* 우선순위 재조정
* 통신 프로토콜 문서
* 데모 영상 제작

## 📦 결과물

* ✅ 3-ECU 분산 시스템
* ✅ DBC 파일
* ✅ 통신 문서
* ✅ 데모 영상

---

# 🧵 Phase 3: RTOS 통합 (Week 15-24)

## 🎯 목표

* FreeRTOS 기반 시스템 재설계
* Task 기반 구조
* 실시간 동작 확보

## 📝 주요 작업

### Week 15–16: FreeRTOS 기본

* Task/Queue/Semaphore 개념
* STM32에 이식
* 기본 Task 생성
* Queue 테스트

### Week 17–20: Task 설계

* 주요 Task 설계

  ```
  CAN_RX (High)
  CAN_TX (High)
  Control (Medium)
  Sensor (Medium)
  Monitor (Low)
  ```
* Queue 기반 데이터 흐름
* Timer 활용

### Week 21–23: 동기화 & 최적화

* Mutex 적용
* Semaphore 이벤트
* Priority inversion 해결
* Deadlock 테스트
* Watchdog
* CPU 사용량 분석

### Week 24: 통합 테스트

* 전체 RTOS 시스템 통합
* 타이밍 분석
* 24시간 안정성
* 문서화

## 📦 결과물

* ✅ RTOS 기반 ECU 시스템
* ✅ Task 구조 다이어그램
* ✅ 성능 분석 리포트

---

# 🏛️ Phase 4: AUTOSAR 구조 (Week 25-34)

## 🎯 목표

* AUTOSAR 계층 구조 구현
* Configuration 기반 시스템

## 📝 주요 작업

### Week 25–26: AUTOSAR 개념

* AUTOSAR Classic 이해
* MCAL / BSW / RTE / APP 학습
* 인터페이스 개념

### Week 27–30: 계층 분리 구현

* MCAL (GPIO/CAN/ADC 추상화)
* BSW (CAN State Manager / DEM)
* RTE (Runnable 관리)
* APP (비즈니스 로직)

### Week 31–32: Configuration 시스템

* JSON 기반 Config
* Port/Pin 테이블
* Runnable scheduling
* Python Config Tool

### Week 33–34: 통합 & 문서화

* 계층 통합 테스트
* Config 변경 테스트
* 다이어그램
* 설계 문서

## 📦 결과물

* ✅ AUTOSAR 스타일 계층 구조
* ✅ Config Tool
* ✅ 설계 문서

---

# 🔐 Phase 5: Secure Boot (Week 35-42)

## 🎯 목표

* 부트로더 구현
* RSA 기반 무결성 검증
* OTA 업데이트

## 📝 주요 작업

### Week 35–36: 부트로더 설계

* Memory Layout
* Vector Table Relocation
* Flash R/W
* Application Jump

### Week 37–38: 서명 검증

* mbedTLS 포팅
* SHA256 해시
* RSA 서명 검증
* 펌웨어 메타데이터 구조

### Week 39–40: OTA 업데이트

* UART 업데이트 프로토콜
* CRC
* Flash DMA 쓰기
* Atomic Update
* Backup 영역

### Week 41: 보안 강화

* Rollback 방지
* Write Protection
* Secure Storage
* Debug Port 비활성화

### Week 42: 테스트 & 문서화

* 다양한 업데이트 시나리오
* 공격 시뮬레이션
* 보안 문서

## 📦 결과물

* ✅ Secure Boot 시스템
* ✅ OTA 도구
* ✅ 보안 설계 문서

---

# 🧩 Phase 6: 통합 & 포트폴리오 (Week 43-52)

## 🎯 목표

* 전체 시스템 통합
* 포트폴리오 제작
* 면접 준비

## 📝 주요 작업

### Week 43–46: 고급 기능

* UDS 진단
* Black Box 로깅
* Fail-Safe 모드

### Week 47–48: 전체 통합

* 프로젝트 스토리 정리
* 성능 최적화
* Stress Test

### Week 49–50: 문서화

* README 강화
* 기술 블로그 3–5개
* 코드 주석 정리

### Week 51–52: 발표 자료

* 데모 영상 (5–10분)
* 면접용 PPT
* 포트폴리오 사이트
* GitHub 프로필 완성

## 📦 결과물

* ✅ 완전한 ECU 시스템
* ✅ 기술 블로그
* ✅ 데모 영상
* ✅ 포트폴리오 자료

---

# 🧾 v1.0 최종 스펙 요약

```
Hardware: STM32F4, Raspberry Pi 5, CAN Transceiver
Bare-metal: GPIO, PWM, ADC, UART, CAN (레지스터)
RTOS: FreeRTOS (Task/Queue/Mutex/Semaphore)
Architecture: AUTOSAR (MCAL/BSW/RTE/APP)
Security: Secure Boot, SHA256, RSA, OTA
Advanced: UDS, Black Box, Fail-Safe
Tools: Git, CANable, Oscilloscope, Python Config Tool
```

> “52주간 레지스터부터 Secure Boot까지, 완전한 ECU 시스템을 설계·구현한 프로젝트”

---
